{"ast":null,"code":"// src/utils/gptApi.js\nexport const callGptWithImage = async prompt => {\n  const system_prompt = `Bạn là một trợ lý du lịch thông minh, có thể tư vấn dựa trên thời gian, địa điểm, mục đích chuyến đi. Với mỗi câu hỏi, hãy cung cấp:\n- Dự báo thời tiết (nếu có địa điểm và ngày cụ thể),\n- Gợi ý hoạt động phù hợp,\n- Danh sách vật dụng nên mang theo,\n- Lưu ý đặc biệt nếu có, dự báo thời tiết hôm đó.\nTrả lời ngắn gọn, dễ hiểu, rõ ràng từng mục, thực tế và giới hạn trong 200 tokens.`;\n  const payload = {\n    model: 'gpt-4o',\n    messages: [{\n      role: 'system',\n      content: system_prompt\n    }, {\n      role: 'user',\n      content: prompt\n    }],\n    max_tokens: 1000,\n    temperature: 0.7\n  };\n  const response = await fetch('https://api.openai.com/v1/chat/completions', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: `Bearer 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` // ← Thay bằng API key của bạn\n    },\n    body: JSON.stringify(payload)\n  });\n  if (!response.ok) {\n    const text = await response.text();\n    throw new Error(`Lỗi GPT: ${response.status} - ${text}`);\n  }\n  const data = await response.json();\n  return data.choices[0].message.content;\n};","map":{"version":3,"names":["callGptWithImage","prompt","system_prompt","payload","model","messages","role","content","max_tokens","temperature","response","fetch","method","headers","Authorization","body","JSON","stringify","ok","text","Error","status","data","json","choices","message"],"sources":["D:/Project_EXE/client/src/utils/gptApi.js"],"sourcesContent":["// src/utils/gptApi.js\r\nexport const callGptWithImage = async (prompt) => {\r\n  const system_prompt = `Bạn là một trợ lý du lịch thông minh, có thể tư vấn dựa trên thời gian, địa điểm, mục đích chuyến đi. Với mỗi câu hỏi, hãy cung cấp:\r\n- Dự báo thời tiết (nếu có địa điểm và ngày cụ thể),\r\n- Gợi ý hoạt động phù hợp,\r\n- Danh sách vật dụng nên mang theo,\r\n- Lưu ý đặc biệt nếu có, dự báo thời tiết hôm đó.\r\nTrả lời ngắn gọn, dễ hiểu, rõ ràng từng mục, thực tế và giới hạn trong 200 tokens.`;\r\n\r\n  const payload = {\r\n    model: 'gpt-4o',\r\n    messages: [\r\n      { role: 'system', content: system_prompt },\r\n      { role: 'user', content: prompt },\r\n    ],\r\n    max_tokens: 1000,\r\n    temperature: 0.7,\r\n  };\r\n\r\n  const response = await fetch('https://api.openai.com/v1/chat/completions', {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      Authorization: `Bearer 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`, // ← Thay bằng API key của bạn\r\n    },\r\n    body: JSON.stringify(payload),\r\n  });\r\n\r\n  if (!response.ok) {\r\n    const text = await response.text();\r\n    throw new Error(`Lỗi GPT: ${response.status} - ${text}`);\r\n  }\r\n\r\n  const data = await response.json();\r\n  return data.choices[0].message.content;\r\n};\r\n"],"mappings":"AAAA;AACA,OAAO,MAAMA,gBAAgB,GAAG,MAAOC,MAAM,IAAK;EAChD,MAAMC,aAAa,GAAG;AACxB;AACA;AACA;AACA;AACA,mFAAmF;EAEjF,MAAMC,OAAO,GAAG;IACdC,KAAK,EAAE,QAAQ;IACfC,QAAQ,EAAE,CACR;MAAEC,IAAI,EAAE,QAAQ;MAAEC,OAAO,EAAEL;IAAc,CAAC,EAC1C;MAAEI,IAAI,EAAE,MAAM;MAAEC,OAAO,EAAEN;IAAO,CAAC,CAClC;IACDO,UAAU,EAAE,IAAI;IAChBC,WAAW,EAAE;EACf,CAAC;EAED,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,4CAA4C,EAAE;IACzEC,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACP,cAAc,EAAE,kBAAkB;MAClCC,aAAa,EAAE,6KAA6K,CAAE;IAChM,CAAC;IACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACd,OAAO;EAC9B,CAAC,CAAC;EAEF,IAAI,CAACO,QAAQ,CAACQ,EAAE,EAAE;IAChB,MAAMC,IAAI,GAAG,MAAMT,QAAQ,CAACS,IAAI,CAAC,CAAC;IAClC,MAAM,IAAIC,KAAK,CAAC,YAAYV,QAAQ,CAACW,MAAM,MAAMF,IAAI,EAAE,CAAC;EAC1D;EAEA,MAAMG,IAAI,GAAG,MAAMZ,QAAQ,CAACa,IAAI,CAAC,CAAC;EAClC,OAAOD,IAAI,CAACE,OAAO,CAAC,CAAC,CAAC,CAACC,OAAO,CAAClB,OAAO;AACxC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}