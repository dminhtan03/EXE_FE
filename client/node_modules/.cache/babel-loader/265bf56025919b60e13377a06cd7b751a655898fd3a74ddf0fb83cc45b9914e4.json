{"ast":null,"code":"// src/utils/geminiApi.js\nimport { GoogleGenerativeAI } from \"@google/generative-ai\";\n\n// Lấy API key từ .env\nconst genAI = new GoogleGenerativeAI(process.env.REACT_APP_GEMINI_API_KEY);\nexport const callGeminiWithPrompt = async prompt => {\n  const system_prompt = `Bạn là một trợ lý du lịch thông minh, có thể tư vấn dựa trên thời gian, địa điểm, mục đích chuyến đi. Với mỗi câu hỏi, hãy cung cấp:\n- Dự báo thời tiết (nếu có địa điểm và ngày cụ thể),\n- Gợi ý hoạt động phù hợp,\n- Danh sách vật dụng nên mang theo,\n- Lưu ý đặc biệt nếu có.\nTrả lời ngắn gọn, dễ hiểu, rõ ràng từng mục, thực tế và giới hạn trong 200 tokens.`;\n  try {\n    // Dùng model Gemini 1.5 Flash (miễn phí, nhanh)\n    const model = genAI.getGenerativeModel({\n      model: \"gemini-1.5-flash\"\n    });\n\n    // Kết hợp system_prompt và user prompt\n    const result = await model.generateContent(`${system_prompt}\\n\\nCâu hỏi của người dùng: ${prompt}`);\n    const response = await result.response;\n    return response.text();\n  } catch (error) {\n    console.error(\"Lỗi Gemini API:\", error);\n    throw error;\n  }\n};","map":{"version":3,"names":["GoogleGenerativeAI","genAI","process","env","REACT_APP_GEMINI_API_KEY","callGeminiWithPrompt","prompt","system_prompt","model","getGenerativeModel","result","generateContent","response","text","error","console"],"sources":["D:/Project_EXE/client/src/utils/gptApi.js"],"sourcesContent":["// src/utils/geminiApi.js\r\nimport { GoogleGenerativeAI } from \"@google/generative-ai\";\r\n\r\n// Lấy API key từ .env\r\nconst genAI = new GoogleGenerativeAI(process.env.REACT_APP_GEMINI_API_KEY);\r\n\r\nexport const callGeminiWithPrompt = async (prompt) => {\r\n  const system_prompt = `Bạn là một trợ lý du lịch thông minh, có thể tư vấn dựa trên thời gian, địa điểm, mục đích chuyến đi. Với mỗi câu hỏi, hãy cung cấp:\r\n- Dự báo thời tiết (nếu có địa điểm và ngày cụ thể),\r\n- Gợi ý hoạt động phù hợp,\r\n- Danh sách vật dụng nên mang theo,\r\n- Lưu ý đặc biệt nếu có.\r\nTrả lời ngắn gọn, dễ hiểu, rõ ràng từng mục, thực tế và giới hạn trong 200 tokens.`;\r\n\r\n  try {\r\n    // Dùng model Gemini 1.5 Flash (miễn phí, nhanh)\r\n    const model = genAI.getGenerativeModel({ model: \"gemini-1.5-flash\" });\r\n\r\n    // Kết hợp system_prompt và user prompt\r\n    const result = await model.generateContent(`${system_prompt}\\n\\nCâu hỏi của người dùng: ${prompt}`);\r\n    const response = await result.response;\r\n    return response.text();\r\n  } catch (error) {\r\n    console.error(\"Lỗi Gemini API:\", error);\r\n    throw error;\r\n  }\r\n};\r\n"],"mappings":"AAAA;AACA,SAASA,kBAAkB,QAAQ,uBAAuB;;AAE1D;AACA,MAAMC,KAAK,GAAG,IAAID,kBAAkB,CAACE,OAAO,CAACC,GAAG,CAACC,wBAAwB,CAAC;AAE1E,OAAO,MAAMC,oBAAoB,GAAG,MAAOC,MAAM,IAAK;EACpD,MAAMC,aAAa,GAAG;AACxB;AACA;AACA;AACA;AACA,mFAAmF;EAEjF,IAAI;IACF;IACA,MAAMC,KAAK,GAAGP,KAAK,CAACQ,kBAAkB,CAAC;MAAED,KAAK,EAAE;IAAmB,CAAC,CAAC;;IAErE;IACA,MAAME,MAAM,GAAG,MAAMF,KAAK,CAACG,eAAe,CAAC,GAAGJ,aAAa,+BAA+BD,MAAM,EAAE,CAAC;IACnG,MAAMM,QAAQ,GAAG,MAAMF,MAAM,CAACE,QAAQ;IACtC,OAAOA,QAAQ,CAACC,IAAI,CAAC,CAAC;EACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAAC;IACvC,MAAMA,KAAK;EACb;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}