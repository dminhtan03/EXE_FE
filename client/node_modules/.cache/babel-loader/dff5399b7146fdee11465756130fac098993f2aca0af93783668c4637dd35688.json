{"ast":null,"code":"// src/utils/weatherApi.js\nexport const getWeather = async (location, date = \"today\") => {\n  const apiKey = \"8623a741c35ab9e72089f6214e948cd4\"; // üîë OpenWeather API key\n  const url = `https://api.openweathermap.org/data/2.5/forecast?q=${encodeURIComponent(location)}&units=metric&lang=vi&appid=${apiKey}`;\n  try {\n    const response = await fetch(url);\n    if (!response.ok) throw new Error(`L·ªói khi l·∫•y d·ªØ li·ªáu th·ªùi ti·∫øt (${response.status})`);\n    const data = await response.json();\n    if (!data.list || !data.city) {\n      throw new Error(\"D·ªØ li·ªáu th·ªùi ti·∫øt kh√¥ng h·ª£p l·ªá\");\n    }\n    let forecast;\n    if (date === \"today\" || date === \"Kh√¥ng x√°c ƒë·ªãnh\") {\n      forecast = data.list[0]; // ‚úÖ l·∫•y d·ª± b√°o g·∫ßn nh·∫•t\n    } else {\n      forecast = data.list.find(item => item.dt_txt.startsWith(date) // format \"YYYY-MM-DD\"\n      );\n    }\n    if (!forecast) {\n      throw new Error(\"Kh√¥ng t√¨m th·∫•y d·ª± b√°o cho ng√†y ƒë∆∞·ª£c y√™u c·∫ßu\");\n    }\n    const weather = {\n      location: data.city.name,\n      temp: forecast.main.temp,\n      description: forecast.weather[0].description,\n      humidity: forecast.main.humidity,\n      wind: forecast.wind.speed,\n      date: forecast.dt_txt\n    };\n    return weather;\n  } catch (error) {\n    console.error(\"‚ùå Weather API error:\", error);\n    throw error;\n  }\n};","map":{"version":3,"names":["getWeather","location","date","apiKey","url","encodeURIComponent","response","fetch","ok","Error","status","data","json","list","city","forecast","find","item","dt_txt","startsWith","weather","name","temp","main","description","humidity","wind","speed","error","console"],"sources":["C:/Users/Admin/Downloads/Project_EXE/client/src/utils/weatherApi.js"],"sourcesContent":["// src/utils/weatherApi.js\r\nexport const getWeather = async (location, date = \"today\") => {\r\n  const apiKey = \"8623a741c35ab9e72089f6214e948cd4\"; // üîë OpenWeather API key\r\n  const url = `https://api.openweathermap.org/data/2.5/forecast?q=${encodeURIComponent(\r\n    location\r\n  )}&units=metric&lang=vi&appid=${apiKey}`;\r\n\r\n  try {\r\n    const response = await fetch(url);\r\n    if (!response.ok) throw new Error(`L·ªói khi l·∫•y d·ªØ li·ªáu th·ªùi ti·∫øt (${response.status})`);\r\n\r\n    const data = await response.json();\r\n\r\n    if (!data.list || !data.city) {\r\n      throw new Error(\"D·ªØ li·ªáu th·ªùi ti·∫øt kh√¥ng h·ª£p l·ªá\");\r\n    }\r\n\r\n    let forecast;\r\n    if (date === \"today\" || date === \"Kh√¥ng x√°c ƒë·ªãnh\") {\r\n      forecast = data.list[0]; // ‚úÖ l·∫•y d·ª± b√°o g·∫ßn nh·∫•t\r\n    } else {\r\n      forecast = data.list.find((item) =>\r\n        item.dt_txt.startsWith(date) // format \"YYYY-MM-DD\"\r\n      );\r\n    }\r\n\r\n    if (!forecast) {\r\n      throw new Error(\"Kh√¥ng t√¨m th·∫•y d·ª± b√°o cho ng√†y ƒë∆∞·ª£c y√™u c·∫ßu\");\r\n    }\r\n\r\n    const weather = {\r\n      location: data.city.name,\r\n      temp: forecast.main.temp,\r\n      description: forecast.weather[0].description,\r\n      humidity: forecast.main.humidity,\r\n      wind: forecast.wind.speed,\r\n      date: forecast.dt_txt,\r\n    };\r\n\r\n    return weather;\r\n  } catch (error) {\r\n    console.error(\"‚ùå Weather API error:\", error);\r\n    throw error;\r\n  }\r\n};\r\n"],"mappings":"AAAA;AACA,OAAO,MAAMA,UAAU,GAAG,MAAAA,CAAOC,QAAQ,EAAEC,IAAI,GAAG,OAAO,KAAK;EAC5D,MAAMC,MAAM,GAAG,kCAAkC,CAAC,CAAC;EACnD,MAAMC,GAAG,GAAG,sDAAsDC,kBAAkB,CAClFJ,QACF,CAAC,+BAA+BE,MAAM,EAAE;EAExC,IAAI;IACF,MAAMG,QAAQ,GAAG,MAAMC,KAAK,CAACH,GAAG,CAAC;IACjC,IAAI,CAACE,QAAQ,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,kCAAkCH,QAAQ,CAACI,MAAM,GAAG,CAAC;IAEvF,MAAMC,IAAI,GAAG,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;IAElC,IAAI,CAACD,IAAI,CAACE,IAAI,IAAI,CAACF,IAAI,CAACG,IAAI,EAAE;MAC5B,MAAM,IAAIL,KAAK,CAAC,gCAAgC,CAAC;IACnD;IAEA,IAAIM,QAAQ;IACZ,IAAIb,IAAI,KAAK,OAAO,IAAIA,IAAI,KAAK,gBAAgB,EAAE;MACjDa,QAAQ,GAAGJ,IAAI,CAACE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;IAC3B,CAAC,MAAM;MACLE,QAAQ,GAAGJ,IAAI,CAACE,IAAI,CAACG,IAAI,CAAEC,IAAI,IAC7BA,IAAI,CAACC,MAAM,CAACC,UAAU,CAACjB,IAAI,CAAC,CAAC;MAC/B,CAAC;IACH;IAEA,IAAI,CAACa,QAAQ,EAAE;MACb,MAAM,IAAIN,KAAK,CAAC,6CAA6C,CAAC;IAChE;IAEA,MAAMW,OAAO,GAAG;MACdnB,QAAQ,EAAEU,IAAI,CAACG,IAAI,CAACO,IAAI;MACxBC,IAAI,EAAEP,QAAQ,CAACQ,IAAI,CAACD,IAAI;MACxBE,WAAW,EAAET,QAAQ,CAACK,OAAO,CAAC,CAAC,CAAC,CAACI,WAAW;MAC5CC,QAAQ,EAAEV,QAAQ,CAACQ,IAAI,CAACE,QAAQ;MAChCC,IAAI,EAAEX,QAAQ,CAACW,IAAI,CAACC,KAAK;MACzBzB,IAAI,EAAEa,QAAQ,CAACG;IACjB,CAAC;IAED,OAAOE,OAAO;EAChB,CAAC,CAAC,OAAOQ,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;IAC5C,MAAMA,KAAK;EACb;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}